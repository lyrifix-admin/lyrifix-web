import{w as d,A as c,o as e,t as u}from"./chunk-NL6KNZEE-CxvR8bn4.js";import{M as x}from"./minimal-tiptap-editor-qoyF4lrc.js";import{B as p}from"./button-DLC1agRu.js";import{C as h}from"./lyric-DRC73VJJ.js";import{u as g,p as f}from"./hooks-PJGK5Pe1.js";import{u as y}from"./integrations-Cf1gwroS.js";import{g as j}from"./helpers-CZocgdl2.js";import"./index-B3T0X-bt.js";import"./index-Beh6w4kb.js";import"./utils-bRKmu4jq.js";import"./createLucideIcon-8xFrFlUl.js";function V({}){return[{title:"Lyrifix - Add Lyric"}]}const z=d(function({actionData:a,loaderData:s}){var o,l;const r=c().state==="submitting",[m,t]=g({onValidate({formData:i}){return f(i,{schema:h})},lastResult:a,shouldValidate:"onBlur",shouldRevalidate:"onBlur",defaultValue:{text:"Type the lyric here...",songId:s.songId,slug:s.slug}}),n=y(t.text);return e.jsx("div",{className:"flex w-full items-center justify-center bg-zinc-950",children:e.jsxs("div",{className:"w-full max-w-lg pt-8 shadow-lg",children:[e.jsx("h1",{className:"mb-6 text-center text-xl font-bold text-white",children:"Add Lyric"}),e.jsxs(u,{method:"post",...j(m),className:"flex flex-col gap-4",children:[e.jsx("label",{hidden:!0,htmlFor:t.text.id,className:"mb-1 block text-sm font-medium text-zinc-200",children:"Lyric Text"}),e.jsx("div",{children:e.jsx(x,{id:t.text.id,name:t.text.name,placeholder:"Type the lyric here...",content:n.value||"Type the lyric here...",onChange:i=>{n.change(i)}})}),e.jsx("input",{type:"hidden",name:((o=t.songId)==null?void 0:o.name)||"songId",value:s.songId}),e.jsx("input",{type:"hidden",name:((l=t.slug)==null?void 0:l.name)||"slug",value:s.slug}),t.text.errors&&e.jsx("p",{className:"mt-2 text-sm text-red-500",children:t.text.errors.join(", ")}),e.jsx("div",{children:e.jsx(p,{className:"w-full",disabled:r,children:r?"Saving Lyric...":"Save Lyric"})})]})]})})});export{z as default,V as meta};
