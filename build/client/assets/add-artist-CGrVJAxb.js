import{w as c,A as p,a as u,o as e,t as x}from"./chunk-NL6KNZEE-CxvR8bn4.js";import{C as h,a as f,b as g,c as j}from"./card-CW33uc-b.js";import{L as N}from"./label-D3N-KwjU.js";import{I as v}from"./input-xm3ORQld.js";import{B as A}from"./button-DLC1agRu.js";import{S as b,C}from"./artist-C-xmUNrL.js";import{u as y,p as S}from"./hooks-PJGK5Pe1.js";import{g as U,a as r}from"./helpers-CZocgdl2.js";import"./utils-bRKmu4jq.js";import"./index-Vg_Lyc_r.js";import"./index-B3T0X-bt.js";function O({}){return[{title:"Add New Artists - Lyrifix"},{name:"description",content:"Discover artists and their music on Lyrifix."}]}const T=c(function({actionData:i,loaderData:l}){const{uploadcarePublicKey:o}=l,s=p().state==="submitting",[n,t]=y({onValidate({formData:d}){return S(d,{schema:C})},lastResult:i,shouldValidate:"onBlur",shouldRevalidate:"onBlur",defaultValue:{name:"",imageUrl:""}}),[a,m]=u.useState(t.imageUrl.initialValue??"");return e.jsx("div",{className:"flex flex-col items-center pt-10",children:e.jsxs(h,{className:"w-xs",children:[e.jsx(f,{children:e.jsx(g,{className:"text-center font-bold",children:"Add New Artist"})}),e.jsx(j,{children:e.jsxs(x,{method:"post",...U(n),className:"mr-4 ml-4 space-y-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(N,{htmlFor:t.name.id,children:"Artist Name"}),e.jsx(v,{...r(t.name,{type:"text"}),placeholder:"Artist Name",className:"border-zinc-700 bg-zinc-800"}),e.jsx("p",{className:"text-sm text-red-500",children:t.name.errors})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex cursor-pointer flex-col items-center",htmlFor:t.imageUrl.id,children:[e.jsx(b,{value:a,onChange:m,publicKey:o}),e.jsx("input",{...r(t.imageUrl,{type:"text"}),value:a,readOnly:!0,className:"hidden"})]})}),e.jsx("div",{children:e.jsx(A,{className:"w-full",disabled:s,children:s?"Saving Artist...":"Save Artist"})})]})})]})})});export{T as default,O as meta};
