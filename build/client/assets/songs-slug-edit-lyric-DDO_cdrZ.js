import{w as m,A as x,a as u,o as t,t as h,v as p}from"./chunk-NL6KNZEE-CxvR8bn4.js";import{M as f}from"./minimal-tiptap-editor-qoyF4lrc.js";import{B as n}from"./button-DLC1agRu.js";import{U as g}from"./lyric-DRC73VJJ.js";import{u as j,p as v}from"./hooks-PJGK5Pe1.js";import{g as y}from"./helpers-CZocgdl2.js";import"./index-B3T0X-bt.js";import"./index-Beh6w4kb.js";import"./utils-bRKmu4jq.js";import"./createLucideIcon-8xFrFlUl.js";function k({}){return[{title:"Lyrifix - Edit Lyric"},{name:"description",content:"Edit Lyric"}]}const z=m(function({actionData:o,loaderData:r}){const i=r.lyric,a=x().state==="submitting",[l,e]=j({onValidate({formData:s}){return v(s,{schema:g})},lastResult:o,shouldValidate:"onBlur",shouldRevalidate:"onBlur",defaultValue:{id:i.id||"",text:i.text||""}}),[c,d]=u.useState(i.text||"");return t.jsx("div",{className:"flex w-full items-center justify-center bg-zinc-950",children:t.jsxs("div",{className:"w-full max-w-lg pt-8 shadow-lg",children:[t.jsx("h1",{className:"mb-6 text-center text-xl font-bold text-white",children:"Edit Lyric"}),t.jsxs(h,{method:"patch",...y(l),className:"flex flex-col gap-4",children:[t.jsx("input",{type:"hidden",name:"id",value:i.id||""}),t.jsx("label",{hidden:!0,htmlFor:e.text.id,className:"mb-1 block text-sm font-medium text-zinc-200",children:"Lyric Text"}),t.jsx("div",{children:t.jsx(f,{id:e.text.id,name:e.text.name,content:c,onChange:s=>{d(s)}})}),e.text.errors&&t.jsx("p",{className:"mt-2 text-sm text-red-500",children:e.text.errors.join(", ")}),t.jsx("div",{children:t.jsx(n,{className:"w-full",disabled:a,children:a?"Saving Lyric...":"Save Lyric"})}),t.jsx("div",{children:t.jsx(n,{className:"w-full",variant:"outline",asChild:!0,children:t.jsx(p,{to:`/songs/${r.slug}`,children:"Cancel"})})})]})]})})});export{z as default,k as meta};
